<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Esempio con arguments</title>
</head>
<body>
    <h1>Esercizio della classe:</h1>
    <p>Apri la console (F12 â†’ Console) per vedere i risultati.</p>

    <script>
        // Funzione per confrontare le medie
        function confrontaMedie(mediaPrimo, ...votiSecondo) {
            let somma = 0;

            for (let voto of votiSecondo) {
                somma += voto;
            }

            let mediaSecondo = somma / votiSecondo.length;

            console.log("Media primo:", mediaPrimo.toFixed(2));
            console.log("Voti secondo:", votiSecondo);
            console.log("Media secondo:", mediaSecondo.toFixed(2));

            // Confronto secondo la tabella
            if (mediaSecondo < 6) {
                if (mediaSecondo < mediaPrimo) return [0, 1]; // insufficiente e inferiore
                else return [1, 0]; // insufficiente ma non inferiore
            } else {
                if (mediaSecondo < mediaPrimo) return [1, 1]; // sufficiente ma inferiore
                else return [0, 0]; // sufficiente e superiore
            }
        }

        // Funzione principale
        function gestisciStudenti() {
            const studenti = [
                { nome: "Anna", mediaPrimo: 7, votiSecondo: [6, 5, 7, 6] },
                { nome: "Luca", mediaPrimo: 5.5, votiSecondo: [4, 5, 5] },
                { nome: "Marco", mediaPrimo: 6, votiSecondo: [6, 6, 5] },
                { nome: "Sara", mediaPrimo: 7, votiSecondo: [8, 7, 9] },
            ];

            let contA = 0; // media seconda insufficiente
            let contB = 0; // insufficiente e inferiore
            let contC = 0; // sufficiente ma inferiore
            let contD = 0; // sufficiente e superiore

            // Ciclo su tutti gli studenti
            for (let studente of studenti) {
                console.log("Studente:", studente.nome);

                // Usa lo spread per passare i voti come argomenti separati
                let [A, B] = confrontaMedie(studente.mediaPrimo, ...studente.votiSecondo);

                // Aggiorna i contatori
                if (A === 1 && B === 0) contA++;
                else if (A === 0 && B === 1) contB++;
                else if (A === 1 && B === 1) contC++;
                else if (A === 0 && B === 0) contD++;
            }
            console.log("RISULTATI FINALI:");
            console.log("A) Media secondo insufficiente:", contA);
            console.log("B) Insufficiente e inferiore:", contB);
            console.log("C) Sufficiente ma inferiore:", contC);
            console.log("D) Sufficiente e superiore:", contD);
        }

        // Avvio del programma
        gestisciStudenti();
    </script>
</body>
</html>
